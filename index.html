<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pronosticador Vertical (M√≥vil)</title>
    <style>
        /* --- Estilos Generales --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            margin: 0; 
            padding: 10px;
            background-color: #f0f0f5; 
        }
        h1 {
            font-size: 1.4em;
            text-align: center;
            margin-bottom: 5px;
            color: #333;
        }
        p {
            font-size: 0.9em;
            text-align: center;
            margin-bottom: 20px;
            color: #555;
            padding: 0 10px;
        }

        /* --- Estilos de Input --- */
        input[type="number"] {
            width: 95%;
            padding: 8px 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            text-align: center;
            font-size: 0.9em;
            -webkit-appearance: none; 
            box-sizing: border-box;
        }

        /* --- Colores de Recomendaci√≥n --- */
        .recomendacion {
            font-weight: bold;
            padding: 8px;
            border-radius: 4px;
            margin-top: 5px;
            display: block;
        }
        .apostar { background-color: #4CAF50; color: white; } 
        .considerar { background-color: #FFC107; color: #333; } 
        .no-apostar { background-color: #F44336; color: white; } 

        /* --- Estilos de Tabla (Modo Tarjeta para M√≥vil) --- */
        table {
            width: 100%;
            border-collapse: collapse;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            background-color: white;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        /* Ocultar encabezados horizontales en vista m√≥vil */
        thead {
            display: none;
        }
        
        /* Filas (Tarjetas) */
        tr {
            display: block;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        /* Celdas (Convertidas en Bloques Verticales) */
        td {
            display: flex; /* Usar flexbox para alinear etiqueta y valor */
            padding: 10px;
            border: none;
            border-bottom: 1px solid #eee;
            align-items: center;
            justify-content: space-between;
            font-size: 0.9em;
        }
        
        /* Estilo de la etiqueta (Primer elemento en cada TD) */
        td::before {
            content: attr(data-label); /* Usa el atributo data-label como etiqueta */
            font-weight: bold;
            color: #1a73e8;
            flex-basis: 50%; /* Da espacio a la etiqueta */
            text-align: left;
        }

        /* Estilo para el input/resultado (Segundo elemento en cada TD) */
        td:last-child {
            /* Asegura que el resultado o input tome el resto del espacio */
            flex-basis: 45%; 
            text-align: right;
        }
        
        /* El encabezado del mercado ser√° m√°s grande y resaltado */
        tr td:first-child {
            background-color: #00bcd4;
            color: white;
            justify-content: center;
            font-size: 1.1em;
            padding: 12px 10px;
        }
        tr td:first-child::before {
            content: ""; /* Oculta la etiqueta "Mercado" en la primera fila */
        }

        /* Estilo especial para el pron√≥stico final */
        .resultado-final {
            display: block; /* Ocupa todo el ancho */
            text-align: center;
            border-bottom: none;
        }

        /* Vuelve a la tabla normal en pantallas grandes (opcional) */
        @media (min-width: 768px) {
            table {
                width: 80%;
                max-width: 900px;
                margin: 20px auto;
            }
            thead {
                display: table-header-group;
            }
            tr {
                display: table-row;
                margin-bottom: 0;
                border: none;
                box-shadow: none;
            }
            td {
                display: table-cell;
                border: 1px solid #ddd;
                border-bottom: 1px solid #ddd;
                padding: 8px;
                text-align: center;
            }
            td::before {
                content: none;
            }
            tr td:first-child {
                background-color: inherit;
                color: inherit;
                font-size: 1em;
                padding: 8px;
            }
            .resultado-final {
                display: table-cell;
            }
        }
    </style>
</head>
<body>

    <h1>üß† Pronosticador Vertical (BetMines)</h1>
    <p>Introduce los datos para cada mercado. Los pesos est√°n optimizados para la Probabilidad de BetMines (50%).</p>

    <table id="pronosticador-over">
        <thead>
            <tr>
                <th>Mercado</th>
                <th>Prob. Propia (50% Peso)</th> 
                <th>U10 Local (5%)</th>
                <th>U10 Visita (5%)</th>
                <th>Est. Local (15%)</th>
                <th>Est. Visita (15%)</th>
                <th>Pron√≥stico Final</th>
            </tr>
        </thead>
        <tbody>
            <tr data-mercado="over">
                <td data-label="">**Over 2.5 FT**</td>
                <td data-label="Prob. BetMines (50%)">
                    <input type="number" min="0" max="100" oninput="calcularPronostico('over')" id="propia-over" placeholder="50%">
                </td>
                <td data-label="√öltimos 10 Local (5%)">
                    <input type="number" min="0" max="100" oninput="calcularPronostico('over')" id="u10l-over" placeholder="5%">
                </td>
                <td data-label="√öltimos 10 Visita (5%)">
                    <input type="number" min="0" max="100" oninput="calcularPronostico('over')" id="u10v-over" placeholder="5%">
                </td>
                <td data-label="Est. Valor Local (15%)">
                    <input type="number" min="0" max="100" oninput="calcularPronostico('over')" id="estl-over" placeholder="15%">
                </td>
                <td data-label="Est. Valor Visita (15%)">
                    <input type="number" min="0" max="100" oninput="calcularPronostico('over')" id="estv-over" placeholder="15%">
                </td>
                <td data-label="Recomendaci√≥n Final" class="resultado-final">
                    <span id="resultado-over" class="recomendacion">Esperando datos...</span>
                </td>
            </tr>
        </tbody>
    </table>

    <table id="pronosticador-btts">
        <thead>
            <tr>
                <th>Mercado</th>
                <th>Prob. Propia (50% Peso)</th> 
                <th>U10 Local (5%)</th>
                <th>U10 Visita (5%)</th>
                <th>Est. Local (15%)</th>
                <th>Est. Visita (15%)</th>
                <th>Pron√≥stico Final</th>
            </tr>
        </thead>
        <tbody>
            <tr data-mercado="btts">
                <td data-label="">**BTTS Yes**</td>
                <td data-label="Prob. BetMines (50%)">
                    <input type="number" min="0" max="100" oninput="calcularPronostico('btts')" id="propia-btts" placeholder="50%">
                </td>
                <td data-label="√öltimos 10 Local (5%)">
                    <input type="number" min="0" max="100" oninput="calcularPronostico('btts')" id="u10l-btts" placeholder="5%">
                </td>
                <td data-label="√öltimos 10 Visita (5%)">
                    <input type="number" min="0" max="100" oninput="calcularPronostico('btts')" id="u10v-btts" placeholder="5%">
                </td>
                <td data-label="Est. Valor Local (15%)">
                    <input type="number" min="0" max="100" oninput="calcularPronostico('btts')" id="estl-btts" placeholder="15%">
                </td>
                <td data-label="Est. Valor Visita (15%)">
                    <input type="number" min="0" max="100" oninput="calcularPronostico('btts')" id="estv-btts" placeholder="15%">
                </td>
                <td data-label="Recomendaci√≥n Final" class="resultado-final">
                    <span id="resultado-btts" class="recomendacion">Esperando datos...</span>
                </td>
            </tr>
        </tbody>
    </table>

    <script>
        // --- L√≥gica del C√°lculo Ponderado (Prioridad BetMines) ---
        function calcularPronostico(mercado) {
            // Obtenemos los valores usando los IDs espec√≠ficos del mercado
            const inputs = {
                propia: parseFloat(document.getElementById(`propia-${mercado}`).value),
                u10l: parseFloat(document.getElementById(`u10l-${mercado}`).value),
                u10v: parseFloat(document.getElementById(`u10v-${mercado}`).value),
                estl: parseFloat(document.getElementById(`estl-${mercado}`).value),
                estv: parseFloat(document.getElementById(`estv-${mercado}`).value)
            };
            
            const resultadoSpan = document.getElementById(`resultado-${mercado}`);

            // 1. Validaci√≥n
            let todosValidos = true;
            for (const key in inputs) {
                const val = inputs[key];
                if (isNaN(val) || val < 0 || val > 100) {
                    todosValidos = false;
                    break;
                }
            }

            if (!todosValidos) {
                resultadoSpan.textContent = 'Datos incompletos/inv√°lidos.';
                resultadoSpan.className = 'recomendacion'; 
                return;
            }

            // 2. Pesos Fijos (Prioridad BetMines)
            const PESO_PROPIA = 0.50;
            const PESO_U10_UNITARIO = 0.05; 
            const PESO_EST_UNITARIO = 0.15;
            
            // 3. C√°lculo Ponderado
            let puntuacionFinal = 
                (inputs.propia * PESO_PROPIA) + 
                (inputs.u10l * PESO_U10_UNITARIO) + 
                (inputs.u10v * PESO_U10_UNITARIO) + 
                (inputs.estl * PESO_EST_UNITARIO) + 
                (inputs.estv * PESO_EST_UNITARIO);
            
            puntuacionFinal = Math.round(puntuacionFinal * 10) / 10;

            let recomendacion = '';
            let clase = 'recomendacion '; 

            // 4. Umbrales de Recomendaci√≥n
            const UMBRAL_APOSTAR = 65; 
            const UMBRAL_CONSIDERAR = 50; 

            if (puntuacionFinal >= UMBRAL_APOSTAR) {
                recomendacion = `‚úÖ APOSTAR (${puntuacionFinal}%)`;
                clase += 'apostar';
            } else if (puntuacionFinal >= UMBRAL_CONSIDERAR) {
                recomendacion = `ü§î CONSIDERAR (${puntuacionFinal}%)`;
                clase += 'considerar';
            } else {
                recomendacion = `‚ùå NO APOSTAR (${puntuacionFinal}%)`;
                clase += 'no-apostar';
            }

            // 5. Actualizar Resultado
            resultadoSpan.textContent = recomendacion;
            resultadoSpan.className = clase;
        }
    </script>
</body>
</html>
