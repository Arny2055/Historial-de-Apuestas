<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pronosticador de Apuestas (Avanzado)</title>
    <style>
        /* Estilos b√°sicos para la tabla */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }
        table {
            width: 100%;
            max-width: 900px;
            border-collapse: collapse;
            margin: 20px auto;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            background-color: white;
        }
        th, td {
            border: 2px solid #333;
            padding: 12px;
            text-align: center;
        }
        th {
            background-color: #333;
            color: white;
            font-weight: bold;
            text-transform: uppercase;
        }
        /* Resaltar la columna del Pron√≥stico Final (el resultado) */
        .final-result-col {
            background-color: #e0f7fa; /* Un color claro para el resultado */
            font-weight: bolder;
            color: #00796b;
        }
        /* Estilos para las celdas de entrada */
        .input-cell input {
            width: 80%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            text-align: center;
            font-size: 1em;
        }
        /* Estilos para la recomendaci√≥n final */
        .recomendacion {
            font-weight: bold;
        }
        .apostar { background-color: #4CAF50; color: white; } /* Verde fuerte */
        .considerar { background-color: #FFC107; color: #333; } /* Amarillo fuerte */
        .no-apostar { background-color: #F44336; color: white; } /* Rojo fuerte */
    </style>
</head>
<body>

    <h1>üß† Pronosticador Objetivo de Apuestas</h1>
    <p>Introduce el **porcentaje** de probabilidad (solo el n√∫mero, **0-100**) en las tres columnas de entrada. La columna **"Pron√≥stico Final"** mostrar√° el resultado calculado.</p>

    <table id="pronosticador">
        <thead>
            <tr>
                <th>Mercado</th>
                <th>Probabilidad Propia (%)</th> 
                <th>√öltimos 10 (%)</th>
                <th>Estad√≠sticas/Valor de Apuestas (%)</th>
                <th class="final-result-col">Pron√≥stico Final (Recomendaci√≥n)</th>
            </tr>
        </thead>
        <tbody>
            <tr data-mercado="over">
                <td>**Over 2.5 FT**</td>
                <td class="input-cell">
                    <input type="number" min="0" max="100" value="" oninput="calcularPronostico('over')" placeholder="Prob. Propia">
                </td>
                <td class="input-cell">
                    <input type="number" min="0" max="100" value="" oninput="calcularPronostico('over')" placeholder="√öltimos 10">
                </td>
                <td class="input-cell">
                    <input type="number" min="0" max="100" value="" oninput="calcularPronostico('over')" placeholder="Estad√≠stica">
                </td>
                <td id="resultado-over" class="recomendacion final-result-col">Esperando datos...</td>
            </tr>
            <tr data-mercado="btts">
                <td>**BTTS Yes**</td>
                <td class="input-cell">
                    <input type="number" min="0" max="100" value="" oninput="calcularPronostico('btts')" placeholder="Prob. Propia">
                </td>
                <td class="input-cell">
                    <input type="number" min="0" max="100" value="" oninput="calcularPronostico('btts')" placeholder="√öltimos 10">
                </td>
                <td class="input-cell">
                    <input type="number" min="0" max="100" value="" oninput="calcularPronostico('btts')" placeholder="Estad√≠stica">
                </td>
                <td id="resultado-btts" class="recomendacion final-result-col">Esperando datos...</td>
            </tr>
        </tbody>
    </table>

    <script>
        // Funci√≥n principal de c√°lculo
        function calcularPronostico(mercado) {
            // Obtener la fila completa usando el atributo data-mercado
            const row = document.querySelector(`tr[data-mercado="${mercado}"]`);
            
            // Los inputs est√°n en las celdas 1, 2 y 3 (√≠ndices 1, 2, 3)
            const inputPropia = row.cells[1].querySelector('input');
            const inputUltimos10 = row.cells[2].querySelector('input');
            const inputEstadistica = row.cells[3].querySelector('input');
            const resultadoCell = row.cells[4]; // El resultado es la √∫ltima celda

            // Obtener los valores y convertirlos a n√∫mero
            let probPropia = parseFloat(inputPropia.value);
            let ultimos10 = parseFloat(inputUltimos10.value);
            let estadistica = parseFloat(inputEstadistica.value);

            // Verificar si los tres valores son v√°lidos (0-100)
            if (isNaN(probPropia) || isNaN(ultimos10) || isNaN(estadistica) || 
                probPropia < 0 || probPropia > 100 || 
                ultimos10 < 0 || ultimos10 > 100 || 
                estadistica < 0 || estadistica > 100) {
                resultadoCell.innerHTML = 'Datos inv√°lidos/incompletos.';
                resultadoCell.className = 'recomendacion final-result-col'; // Limpiar clases de color
                return;
            }

            // --- L√ìGICA OBJETIVA DEL PRONOSTICADOR ---
            // Ponderaci√≥n (para dar m√°s peso a la estad√≠stica que viene de datos de cuotas/valor)
            const PESO_PROPIA = 0.30;
            const PESO_ULTIMOS10 = 0.30;
            const PESO_ESTADISTICA = 0.40; // Mayor peso a la estad√≠stica/valor de cuotas
            
            // Puntuaci√≥n Final (Promedio Ponderado)
            let puntuacionFinal = 
                (probPropia * PESO_PROPIA) + 
                (ultimos10 * PESO_ULTIMOS10) + 
                (estadistica * PESO_ESTADISTICA);
            
            // Redondear a un decimal
            puntuacionFinal = Math.round(puntuacionFinal * 10) / 10;

            let recomendacion = '';
            let clase = 'recomendacion final-result-col '; // Clase base + clase de color

            // Criterios Objetivos
            const UMBRAL_APOSTAR = 65; 
            const UMBRAL_CONSIDERAR = 50; 

            if (puntuacionFinal >= UMBRAL_APOSTAR) {
                recomendacion = `‚úÖ Apostar (${puntuacionFinal}%) - Valor S√≥lido`;
                clase += 'apostar';
            } else if (puntuacionFinal >= UMBRAL_CONSIDERAR) {
                recomendacion = `ü§î Considerar (${puntuacionFinal}%) - Riesgo Moderado`;
                clase += 'considerar';
            } else {
                recomendacion = `‚ùå No Apostar (${puntuacionFinal}%) - Bajo Valor`;
                clase += 'no-apostar';
            }

            // Actualizar la celda de resultado
            resultadoCell.innerHTML = recomendacion;
            resultadoCell.className = clase;
        }
    </script>
</body>
</html>