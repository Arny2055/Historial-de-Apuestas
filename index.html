<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Controlador de URLs</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; padding: 50px; background: #f4f7f6; }
        .panel { background: white; padding: 30px; border-radius: 10px; shadow: 0 4px 6px rgba(0,0,0,0.1); width: 400px; }
        select { width: 100%; padding: 10px; margin: 20px 0; border: 1px solid #ddd; border-radius: 5px; }
        button { width: 100%; padding: 12px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #0056b3; }
        #status { margin-top: 15px; font-size: 0.9em; color: green; display: none; }
    </style>
</head>
<body>

<div class="panel">
    <h3>Selector de Scraping</h3>
    <p>Elige la URL para actualizar el Sheet:</p>

    <select id="urlPicker">
        <option value="https://ejemplo.com/producto1">Producto A</option>
        <option value="https://ejemplo.com/producto2">Producto B</option>
        <option value="https://ejemplo.com/lista-precios">Lista de Precios</option>
    </select>

    <button onclick="enviarAlSheet()">Actualizar Hoja</button>
    <p id="status">✓ URL enviada a la hoja de cálculo</p>
</div>

<iframe name="vacio" id="vacio" style="display:none;"></iframe>

<script>
    function enviarAlSheet() {
        const urlSeleccionada = document.getElementById('urlPicker').value;
        
        // CONFIGURACIÓN (RELLENA CON TUS DATOS DEL PASO 1)
        const FORM_URL = "https://docs.google.com/forms/d/e/TU_ID_DE_FORMULARIO/formResponse";
        const ENTRY_ID = "entry.123456789"; // El ID que encontraste inspeccionando

        // Creamos un formulario invisible para enviar los datos
        const form = document.createElement('form');
        form.action = FORM_URL;
        form.method = 'POST';
        form.target = 'vacio'; // Apunta al iframe oculto

        const input = document.createElement('input');
        input.name = ENTRY_ID;
        input.value = urlSeleccionada;

        form.appendChild(input);
        document.body.appendChild(form);
        
        // Enviar
        form.submit();
        
        // Feedback visual
        document.getElementById('status').style.display = 'block';
        setTimeout(() => { document.getElementById('status').style.display = 'none'; }, 3000);
        
        // Limpieza
        document.body.removeChild(form);
    }
</script>

</body>
</html>